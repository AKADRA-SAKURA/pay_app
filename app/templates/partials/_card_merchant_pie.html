<div class="card col-span-all">
  <h2>カード明細 店舗割合 <span class="pill">円グラフ</span></h2>

  {% if cards %}
  <div class="merchant-pie-controls">
    <label>
      カード
      <select id="cardMerchantPieCard">
        {% for c in cards %}
          <option value="{{ c.id }}">{{ c.name }} (ID:{{ c.id }})</option>
        {% endfor %}
      </select>
    </label>

    <label>
      支払月
      <input id="cardMerchantPieMonth" type="month" value="{{ card_merchant_default_month }}" />
    </label>

    <button id="cardMerchantPieLoad" class="btn btn-ghost" type="button">更新</button>
  </div>

  <div id="cardMerchantPieMeta" class="hint">-</div>

  <div id="cardMerchantPieChartWrap" class="chart-wrap pie-wrap merchant-pie-wrap">
    <canvas id="cardMerchantPieCanvas"></canvas>
  </div>

  <div id="cardMerchantPieEmpty" class="empty" hidden>対象明細がありません。</div>

  <div class="table-wrap mt-10">
    <table>
      <thead>
        <tr>
          <th>店舗</th>
          <th style="width: 180px;">金額（円）</th>
          <th style="width: 120px;">割合</th>
        </tr>
      </thead>
      <tbody id="cardMerchantPieTable"></tbody>
    </table>
  </div>
  {% else %}
  <div class="empty">カードがありません。</div>
  {% endif %}
</div>
