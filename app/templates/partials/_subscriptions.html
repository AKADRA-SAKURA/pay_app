<!-- サブスク追加 -->
<div class="card">
  <h2>追加 <span class="pill">毎月の固定費</span></h2>

  <form method="post" action="/subscriptions" class="form">
    <label class="col-span-all">
      名称
      <input name="name" placeholder="Netflix" required />
    </label>

    <label>
      金額（円）
      <input name="amount_yen" type="number" min="0" value="0" required />
    </label>

    <label>
      毎月の請求日（1-31）
      <input name="billing_day" type="number" min="1" max="31" value="1" required />
    </label>

    <div class="actions col-span-all">
      <button class="btn" type="submit">追加する</button>
      <button class="btn btn-ghost" type="reset">クリア</button>
    </div>

    <div class="hint" style="grid-column: 1 / -1">
      ※ まずは簡易版（1〜31固定）。月末（30/31/28）補正や「支払日カレンダー」は次で入れよう。
    </div>
  </form>
</div>

<!-- サブスク一覧 -->
<div class="card">
  <h2>一覧 <span class="pill">登録済み</span></h2>

  <table>
    <thead>
      <tr>
        <th style="width: 70px">ID</th>
        <th>名称</th>
        <th style="width: 140px">金額</th>
        <th style="width: 150px">請求日</th>
        <th style="width: 100px"></th>
      </tr>
    </thead>

    <tbody>
      {% for s in subs %}
      <tr>
        <td>{{ s.id }}</td>
        <td style="font-weight: 650">{{ s.name }}</td>
        <td class="money">{{ "{:,}".format(s.amount_yen) }} 円</td>
        <td><span class="pill">毎月 {{ s.billing_day }} 日</span></td>
        <td>
          <form method="post" action="/subscriptions/{{ s.id }}/delete" style="margin: 0">
            <button class="btn btn-danger" type="submit">削除</button>
          </form>
        </td>
      </tr>
      {% endfor %}

      {% if not subs %}
      <tr>
        <td colspan="5" class="empty">
          まだ登録がありません（まずは1件追加してみてね）
        </td>
      </tr>
      {% endif %}
    </tbody>
  </table>

  <div class="footer">
    <span>APIドキュメント:</span>
    <a class="link" href="/docs">/docs</a>
    <span>JSON:</span>
    <a class="link" href="/api/subscriptions">/api/subscriptions</a>
  </div>
</div>
